<!DOCTYPE html>
<html>
<head>
  <title>Grade 8 IDU Emissions Solutions App HTML & JS EDITION</title>
  <style>
    canvas {
      border: 1px solid black;
    }
    .buttons {
      background-color: rgb(89, 119, 255);
      border-right: 450px solid white;
    }
    .text {
      margin: 5px;
      padding-top: 10px;
      padding-bottom: 10px
    }
     
  </style>
</head>
<body>
    <h1> IDU Emissions App</h1>
    <canvas id="myCanvas"></canvas>
    <span id="startCar">  </span>
    <div id="otherWaysDiv">
  </div>
    <br>
    <div id="ourProductDiv">
  </div>
    <br>
    <div id="pollutantsDiv">
    </div>
    <br>
    <div id="myEmissionsDiv">
    </div>
    <br>
    <div id="solutionsDiv">
  </div>
  <script>
    var car = document.getElementById("startCar");
    // Get the canvas element
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    // Setting dimensions for canvas
    canvas.width = window.innerWidth - 480;
    canvas.height = window.innerHeight - 160;
    //the car
    var xPos = 235;
    var movingCar = function() {
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "rgb(133, 0, 199)";
    ctx.fillRect(xPos, 210, 89, 31);
    ctx.fillRect(xPos+22, 173, 45, 44);
    ctx.fillStyle = "black";
    ctx.fillRect(xPos-10, 224, 10, 10);
    
    ctx.beginPath();
    ctx.ellipse(xPos+8, 250, 10, 10, 0, 0, 2*Math.PI);
    ctx.fillStyle = "black";
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(xPos+85, 250, 10, 10, 0, 0, 2*Math.PI);
    ctx.fillStyle = "black";
    ctx.fill();
    ctx.closePath();
    
    ctx.beginPath();
    ctx.ellipse(xPos+8, 250, 2.5, 2.5, 0, 0, 2*Math.PI);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(xPos+85, 250, 2.5, 2.5, 0, 0, 2*Math.PI);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.closePath();
    
    
    //car exhaust/fumes
    var cloud = function(x) {
        var fumesSize = 14;
    ctx.beginPath();
    ctx.ellipse(x-28,241,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-38,234,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-10,228,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-32,220,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-6,214,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    }
    cloud(xPos-85);
    cloud(xPos-25);
    xPos++;
    requestAnimationFrame(movingCar);
  }
  movingCar();


    var disappear = function() {
      if (xPos>(canvas.width-500)) {
        }
      window.clearInterval(MakeItDisappear);
      console.log("interval cleared")
      canvas.width = "0";
      canvas.height = "0";
        
      var div = document.querySelectorAll("div");
    for (var i = 0; i < div.length; i++) {
                div[i].className += " buttons";
            }
      var text = document.querySelectorAll("h2");
      for (var u = 0; u<text.length; u++) {
        text[u].className+= " text";
      }
  
      var other = document.createElement("h2");
      other.textContent = "Other Ways To Prevent Pollution";
      document.body.appendChild(other);
      var product = document.createElement("h2");
      product.textContent = "How Our Product Works";
      document.body.appendChild(product);
      var pollutant = document.createElement("h2");
      pollutant.textContent = "The Pollutants - Our Enemies";
      document.body.appendChild(pollutant);
      var theEmissions = document.createElement("h2");
      theEmissions.textContent = "My Emissions";
      document.body.appendChild(theEmissions);
      var solution = document.createElement("h2");
      solution.textContent = "Solutions For You"
      document.body.appendChild(solution);
      //go back function
    /*var goBack = function() {
      document.body.innerHTML = "";
      document.body.style.backgroundColor = "white";
      other.textContent = "Other Ways To Prevent Pollution";
      product.textContent = "How Our Product Works";
      pollutant.textContent = "The Pollutants - Our Enemies";
      theEmissions.textContent = "My Emissions";
      solution.textContent = "Solutions For You";
      document.body.appendChild(other);
      document.body.appendChild(product);
      document.body.appendChild(pollutant);
      document.body.appendChild(theEmissions);
      document.body.appendChild(solution);
      }*/

      //other ways to prevent polllution:
      // 1. Find and store the element we want to listen to events on.
    var otherDiv = document.getElementById("otherWaysDiv");
    // 2. Define the function that will respond to the event.
    // callback 
    var otherDivClicked = function() {
      document.body.innerHTML = ""
      document.body.style.backgroundColor = "rgb(239, 255, 166)";
      var otherHead = document.createElement("h1");
      otherHead.textContent = "Other ways to prevent pollution include:"
      document.body.appendChild(otherHead);
      otherHead.style.marginLeft = "5px"
      var optionsList = document.createElement("ol");

      // Add options as list items
      var options = [
      "Carpooling",
        "Riding a bicycle or walking",
        "Recycling paper, cardboard and other recyclables",
        "Not littering",
        "Using plastic alternatives like cloth bags and metal water bottles",
        "Not bursting firecrackers",
        "Turning off appliances when not in use"
      ];

      options.forEach(function(option) {
        var listItem = document.createElement("li");
        listItem.textContent = option;
        optionsList.appendChild(listItem);
        // Append the ordered list to the body
      document.body.appendChild(optionsList);

      });
      var back = document.createElement("img");
      back.src = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSa57bVy9IT0HntM8W31H8AzZpyjtXKxqW9pA&usqp=CAU";
      document.body.appendChild(back);
      var goBack = function() {
        disappear();
      }
      back.addEventListener("click", goBack);
    }
    // 3. Add the event listener for the element and function
    otherDiv.addEventListener("mouseover", otherDivClicked);
    //the Product
    var theProduct = document.getElementById("ourProductDiv");
    var theProductClicked = function() {
      document.body.innerHTML = "";
      document.body.style.backgroundColor = "rgb(204, 245, 179)";
      var howItWorksHead = document.createElement("h1");
      howItWorksHead.textContent = "How our Product Works:"
      document.body.appendChild(howItWorksHead);
      var howItWorks = document.createElement("p");
      howItWorks.textContent = " Once you attach the sensor to the exhaust of the vehicle, its emissions are recorded. This data is sent to this website. The website uses the data about your emissions to suggest the best solutions for you."
    document.body.appendChild(howItWorks);
    }
    theProduct.addEventListener("mouseover", theProductClicked);
    //The Pollutants - our enemies
    var thePollutants = document.getElementById("pollutantsDiv");
    var thePollutantsClicked = function() {
      document.body.innerHTML = "";
      document.body.style.backgroundColor = "rgb(201, 201, 201)";
      var pollutantsHead = document.createElement("h1");
      pollutantsHead.textContent = "The Pollutants:"
      document.body.appendChild(pollutantsHead);
      var pollutantsContent = document.createElement("p");
      pollutantsContent.textContent = "The product uses sensors to detect certain pollutants to measure the amount of pollution. Nitrogen and carbon oxides are the most common pollutants, so it detects nitrogen and carbon atoms."
      document.body.appendChild(pollutantsContent);
      var pollutantsFact = document.createElement("p");
      pollutantsFact.textContent = " Fun fact: Up to a certain level, more carbon increases the rate of photosynthesis in plants!"
      document.body.appendChild(pollutantsFact);
    }
    thePollutants.addEventListener("mouseover", thePollutantsClicked);
var userEmissions = document.getElementById("myEmissionsDiv");
var userEmissionsClicked = function() {
  document.body.innerHTML = "";
  document.body.style.backgroundColor = "rgb(255, 127, 127)";
  var emissionsHead = document.createElement("h1");
  emissionsHead.textContent = "Your Emissions:"
document.body.appendChild(emissionsHead);
var dailyAvg = document.createElement("p");
dailyAvg.textContent = "Daily Average:";
document.body.appendChild(dailyAvg);
var weeklyAvg = document.createElement("p");
weeklyAvg.textContent = "Weekly Average:";
document.body.appendChild(weeklyAvg);
var monthlyAvg = document.createElement("p");
monthlyAvg.textContent = "Monthly Average:";
document.body.appendChild(monthlyAvg);
var yearlyAvg = document.createElement("p");
yearlyAvg.textContent = "Yearly Average:"
document.body.appendChild(yearlyAvg);
}
userEmissions.addEventListener("mouseover", userEmissionsClicked);
var userSolutions = document.getElementById("solutionsDiv");
var solutionsClicked = function() {
  document.body.innerHTML = ""
  document.body.style.backgroundColor = "rgb(70, 204, 150)";
var solutionsHead = document.createElement("h2");
solutionsHead.textContent = "What are your average emissions in tons?"
document.body.appendChild(solutionsHead);
var solutionInput = document.createElement("input")
solutionInput.type = "number";
document.body.appendChild(solutionInput);
var button = document.createElement("button");
button.textContent = "Calculate";
document.body.appendChild(button);
var solutionForEmission = document.createElement("h3");
  solutionForEmission.textContent = " You should..."
  document.body.appendChild(solutionForEmission);
var buttonClicked = function() {
  var emissionsValue = parseInt(solutionInput.value);
  if ( emissionsValue >= 2 && emissionsValue <= 3) {
          solutionForEmission.textContent = " You should... try carpooling.";
        }
else if (emissionsValue >= 3 && emissionsValue <= 4) {
          solutionForEmission.textContent = " You should... try cutting down on unnecessary use of the vehicle.";
        }
else if (emissionsValue => 6) {
          solutionForEmission.textContent = " You should... try switching to an electric vehicle, preferably after the older vehicle is sold/unusable.";
        }
else if (emissionsValue >= 4 && emissionsValue <= 6) {
          solutionForEmission.textContent = " You should... try cutting down on unnecessary use of the vehicle. If that is not possible, try switching to an electric/hybrid vehicle, preferably after the older vehicle is sold/unusable.";
        }
else if (emissionsValue == 0) {
  solutionForEmission.textContent = "Congratulations! You're fully sustainable!";
}
else {
  solutionForEmission.textContent = "Be more precise.";
}
}
button.addEventListener("click", buttonClicked);
}
userSolutions.addEventListener("mouseover", solutionsClicked);
  };
  var MakeItDisappear = window.setInterval(disappear, 3000);
</script>
</body>
</html>
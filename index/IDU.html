<!DOCTYPE html>
<html>
<head>
  <title>Grade 8 IDU Emissions Solutions App HTML & JS EDITION</title>
  <style>
    #solutions:hover {
      background-color:blueviolet;
    }
    canvas {
      border: 1px solid black;
    }
    .buttons {
      background-color: rgb(89, 119, 255);
      border-right: 450px solid white;
    }
    .text {
      margin: 5px;
      padding-top: 10px;
      padding-bottom: 10px
    }
     
  </style>
</head>
<body>
    <h1> IDU Emissions App</h1>
    <canvas id="myCanvas"></canvas>
    <span id="startCar">  </span>
    <div id="otherWaysDiv">
    <h2 id="otherWays"></h2>
  </div>
    <br>
    <div id="ourProductDiv">
    <h2 id="ourProduct"></h2>
  </div>
    <br>
    <div id="pollutantsDiv">
    <h2 id="pollutants"></h2>
    </div>
    <br>
    <div id="myEmissionsDiv">
    <h2 id="myEmissions"></h2>
    </div>
    <br>
    <div id="solutionsDiv">
    <h2 id="solutions"></h2>
  </div>
  <script>
    var car = document.getElementById("startCar");
    // Get the canvas element
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    // Setting dimensions for canvas
    canvas.width = window.innerWidth - 480;
    canvas.height = window.innerHeight - 160;
    //the car
    var xPos = 235;
    var movingCar = function() {
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "rgb(133, 0, 199)";
    ctx.fillRect(xPos, 210, 89, 31);
    ctx.fillRect(xPos+22, 173, 45, 44);
    ctx.fillStyle = "black";
    ctx.fillRect(xPos-10, 224, 10, 10);
    
    ctx.beginPath();
    ctx.ellipse(xPos+8, 250, 10, 10, 0, 0, 2*Math.PI);
    ctx.fillStyle = "black";
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(xPos+85, 250, 10, 10, 0, 0, 2*Math.PI);
    ctx.fillStyle = "black";
    ctx.fill();
    ctx.closePath();
    
    ctx.beginPath();
    ctx.ellipse(xPos+8, 250, 2.5, 2.5, 0, 0, 2*Math.PI);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(xPos+85, 250, 2.5, 2.5, 0, 0, 2*Math.PI);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.closePath();
    
    
    //car exhaust/fumes
    var cloud = function(x) {
        var fumesSize = 14;
    ctx.beginPath();
    ctx.ellipse(x-28,241,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-38,234,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-10,228,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-32,220,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    ctx.beginPath();
    ctx.ellipse(x-6,214,fumesSize,fumesSize, 0, 0, 2*Math.PI);
    ctx.fillStyle = "grey"
    ctx.fill();
    ctx.closePath();
    }
    cloud(xPos-85);
    cloud(xPos-25);
    xPos++;
    requestAnimationFrame(movingCar);
  }
  movingCar();


    var disappear = function() {
      if (xPos>(canvas.width-500)) {
        }
      window.clearInterval(MakeItDisappear);
      console.log("interval cleared")
      canvas.width = "0";
      canvas.height = "0";

      var div = document.querySelectorAll("div");
    for (var i = 0; i < div.length; i++) {
                div[i].className += " buttons";
            }
      var text = document.querySelectorAll("h2");
      for (var u = 0; u<text.length; u++) {
        text[u].className+= " text";
      }
      
      var other = document.getElementById("otherWays");
      other.innerHTML = "Other Ways To Prevent Pollution"
      var product = document.getElementById("ourProduct");
      product.innerHTML = "How Our Product Works";
      var pollutant = document.getElementById("pollutants");
      pollutant.innerHTML = "The Pollutants - Our Enemies";
      var theEmissions = document.getElementById("myEmissions");
      theEmissions.innerHTML = "My Emissions";
      var solution = document.getElementById("solutions");
      solution.innerHTML = "Solutions For You"

      // 1. Find and store the element we want to listen to events on.
    var otherDiv = document.getElementById("otherWaysDiv");
    // 2. Define the function that will respond to the event.
    // callback 
    var otherDivClicked = function() {
      document.body.innerHTML = " "
      document.body.style.backgroundColor = "rgb(239, 255, 166)";
      var otherHead = document.createElement("h1");
      otherHead.textContent = "Other ways to prevent pollution include:"
      document.body.appendChild(otherHead);
      otherHead.style.marginLeft = "5px"
      var factList = document.createElement("ol");

      // Add fun facts as list items
      var facts = [
      "Carpooling",
        "Riding a bicycle or walking",
        "Recycling paper, cardboard and other recyclables",
        "Not littering",
        "Using plastic alternatives like cloth bags and metal water bottles",
        "Not bursting firecrackers",
        "Turning off appliances when not in use"
      ];

      facts.forEach(function(fact) {
        var listItem = document.createElement("li");
        listItem.textContent = fact;
        factList.appendChild(listItem);
        // Append the ordered list to the body
      document.body.appendChild(factList);

      });
    }
    // 3. Add the event listener for the element and function
    otherDiv.addEventListener("click", otherDivClicked);
    
    var theProduct = document.getElementById("ourProductDiv");
    var theProductClicked = function() {
      document.body.innerHTML = " ";
      document.body.style.backgroundColor = "rgb(204, 245, 179)";
      
    }
  };
  var MakeItDisappear = window.setInterval(disappear, 3000);
</script>
</body>
</html>